<?xml version="1.0" encoding="UTF-8"?>
<blueprint xmlns:jpa="http://aries.apache.org/xmlns/jpa/v2.0.0"
           xmlns:tx="http://aries.apache.org/xmlns/transactions/v1.2.0"
           xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0">
    <jpa:enable/>
    <tx:enable-annotations/>
    <reference id="gradeBeanDao" interface="com.kalix.general.teaching.api.dao.IGradeBeanDao"/>
    <reference id="gradeMajorBeanDao" interface="com.kalix.general.teaching.api.dao.IGradeMajorBeanDao"/>
    <reference id="majorInfoBeanDao" interface="com.kalix.general.teaching.api.dao.IMajorInfoBeanDao"/>
    <reference id="classInfoBeanDao" interface="com.kalix.general.teaching.api.dao.IClassInfoBeanDao"/>

    <!-- 年级服务 -->
    <bean id="gradeBeanServiceImpl" class="com.kalix.general.teaching.biz.GradeBeanServiceImpl">
        <property name="dao" ref="gradeBeanDao"/>
        <property name="gradeMajorBeanDao" ref="gradeMajorBeanDao"/>
    </bean>
    <service id="gradeBeanService" ref="gradeBeanServiceImpl"
             interface="com.kalix.general.teaching.api.biz.IGradeBeanService"/>

    <!-- 专业服务 -->
    <bean id="majorInfoBeanServiceImpl" class="com.kalix.general.teaching.biz.MajorInfoBeanServiceImpl">
        <property name="dao" ref="majorInfoBeanDao"/>
    </bean>
    <service id="majorInfoBeanService" ref="majorInfoBeanServiceImpl"
             interface="com.kalix.general.teaching.api.biz.IMajorInfoBeanService"/>

    <!-- 班级服务 -->
    <bean id="classInfoBeanServiceImpl" class="com.kalix.general.teaching.biz.ClassInfoBeanServiceImpl">
        <property name="dao" ref="classInfoBeanDao"/>
        <property name="gradeBeanService" ref="gradeBeanServiceImpl"/>
        <property name="majorInfoBeanService" ref="majorInfoBeanServiceImpl"/>
    </bean>
    <service id="classInfoBeanService" ref="classInfoBeanServiceImpl"
             interface="com.kalix.general.teaching.api.biz.IClassInfoBeanService"/>
</blueprint>
